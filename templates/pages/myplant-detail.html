<div class="content-wrapper">
  <section class="content">
    <div class="container-fluid">
      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
      <!-- css link-->
      <link rel="stylesheet" href="../../static/stylesheets/myplant.css">

      <div class="wrapper-grey padded">
        <div class="container">
          <h2 class="text-center" style=" margin-bottom: 60px; margin-top: -15px;">
            {식물 종류}나의 식물</h2>


          <!-- 글 등록, 이미지 클릭시 상세페이지, 수정,삭제 구현 필요 -->
          <!-- 글 등록 종류 부분 select box로 변경 후 오류 발생 -->
          <div class="startbutton">
            <button type="button" class="btn btn-success" data-toggle="modal" data-target="#modaluploadForm"
              style="float: right; margin-right: 5px;">글 등록</button>
          </div>
          <br>
          <br>

          <div class="row">
            {% if plants%}
            {% for plant in plants%}

            <div class="col-xs-3 col-sm-4">
              <div class="card"
                style="background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.2)), url('/static/imgdb/user/{{userName}}/{{plant.plant_name}}/{{plant.imagename}}');">
                <div class="card-category">{{plant.plant_name}}</div>
                <div class="card-description">
                  <h2>대충 성장률? 들어갈곳</h2>

                  <p>{{plant.memo}}</p>
                </div>
                <img class="card-user avatar avatar-large" src="/static/imgdb/user/{{userName}}/{{plant.plant_name}}/{{plant.imagename}}">
                <a class="card-link" class="btn btn-primary" data-toggle="modal" href="#mymodal1"></a>
              </div>
            </div>

            {%endfor%}
            {% else %}
          </div>
          <!--식물이 하나도 등록되어 있지 않을때 작동하는 부분-->
          <div>
            <h4>식물을 등록해주세요!</h4>
          </div>
          {% endif %}
        </div>
      </div>


      <!-- Modal (등록) 구현 완-->
      <div class="modal fade" id="modaluploadForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">

            <div class="modal-body">
              <form method="post" enctype="multipart/form-data">
                <div class="max-w-md mx-auto bg-white rounded-lg overflow-hidden md:max-w-lg">
                  <div class="md:flex">
                    <div class="w-full px-4 py-6 ">
                      <p style="font-size: 300;  font-weight: bold; text-align: center; margin-top: 20px;">
                        <i class="bi bi-check2-square" style="margin-right: 10px;"></i>일지 등록</p>

                      <div class="mb-1" style="margin-top: 40px;">
                        <span class="text-sm">종류</span>
                        <!-- placeholder가 안먹어유,, -->
                        <select class="dropdown" placeholder="Please choose" name="kind">
                          <option>종류를 선택해 주세요</option>
                          <option>적상추</option>
                          <option>토마토</option>
                          <option>청경채</option>
                          <option>양배추</option>
                        </select>
                      </div>
                      <br>
                      <div class="mb-1">
                        <span class="text-sm">이름2</span>
                        <input type="text" name='plantname' placeholder="이름 예)우리집 양상추"
                          class="h-12 px-3 w-full border-green-500 border-2 rounded focus:outline-none focus:border-black">
                      </div>
                      <br>
                      <div class="mb-1">
                        <span class="text-sm">메모</span>
                        <textarea type="text" name='memo' placeholder="메모를 작성해 주세요"
                          class="h-24 py-1 px-3 w-full border-2 border-green-500 rounded focus:outline-none focus:border-black resize-none"></textarea>
                      </div>

                      <div class="mb-1">
                        <span class="text-sm">사진</span>
                        <div
                          class="relative border-dotted h-32 rounded-lg border-dashed border-2 border-green-700 bg-gray-100 flex justify-center items-center">
                          <div class="absolute">
                            <div class="flex flex-col items-center">
                              <i class="fa fa-folder-open fa-3x text-green-500"></i>
                              <span class="block text-gray-400 font-normal">식물의 사진을
                                등록하세요</span>
                            </div>
                          </div>
                          <input type="file" class="h-full w-full opacity-0" name="img">
                        </div>
                      </div>
                      <br>
                      <div class="mt-3 text-right">
                        <div class="modal-footer">
                          <button type="submit" class="btn btn-outline-success">등록</button>
                          <button type="button" class="btn btn-outline-success"
                            onclick="location.href = '/user/myplant' ">취소</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- 사진 클릭시 상세 내용 -->
      <!-- Modal -->
      <div class="modal fade" id="mymodal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
        hid.bs.modal="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <!-- 제목 title -->
              <h2 style="margin: auto;">{ 제목 }</h2>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <!-- 업로드한 사진 변경 -->
              <img src="https://mdbootstrap.com/img/Photos/Horizontal/Nature/4-col/img%20(55).webp" class="img-fluid"
                alt="">
              <p style="text-align: center; margin-top: 20px;">여기에 예측 표 같은거 들어가면 좋을 것 같아요!</p>
              <!-- 내용content -->
              <p style="text-align: center; margin-top: 20px;">{ 내용 }</p>

            </div>
            <div class="modal-footer">
              <!-- 글 수정 버튼 구현 필요! -->
              <button type="button" class="btn btn-success" data-toggle="modal" data-target="#mymodal2">수정</button>
              <!-- 글 삭제 버튼 종현 필요! -->
              <button type="button" class="btn btn-secondary" data-toggle="modal">삭제</button>
              <a href="/user/myplant" class="btn btn-secondary">목록</a>
              <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
            </div>
          </div>
        </div>
      </div>
      <!-- 모달 끝 -->

      <!-- Modal (수정)  종현씨가 필요해-->
      <div class="modal fade" id="mymodal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel1"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content" style="margin-left: -8px;">

            <div class="modal-body">
              <form method="post" enctype="multipart/form-data">
                <div class="max-w-md mx-auto bg-white rounded-lg overflow-hidden md:max-w-lg">
                  <div class="md:flex">
                    <div class="w-full px-4 py-6 ">
                      <p
                        style="font-size: 300; font-family:'Nanum Gothic Coding'; font-weight: bold; text-align: center; margin-top: 20px;">
                        <i class="bi bi-pencil-square" style="margin-right: 10px;"></i>일지 수정</p>
                      <div class="mb-1" style="margin-top: 40px;">
                        <span class="text-sm">종류</span>
                        <select class="dropdown" placeholder="Please choose">
                          <option>종류를 선택해 주세요</option>
                          <option>적상추</option>
                          <option>토마토</option>
                          <option>청경채</option>
                          <option>양배추</option>
                        </select>
                      </div>
                      <br>
                      <div class="mb-1">
                        <span class="text-sm">이름</span>
                        <input type="text" name='plantname' placeholder="이름 예)우리집 양상추"
                          class="h-12 px-3 w-full border-green-700 border-2 rounded focus:outline-none focus:border-black">
                      </div>
                      <br>
                      <div class="mb-1">
                        <span class="text-sm">메모</span>
                        <textarea type="text" name='memo' placeholder="메모를 작성해 주세요"
                          class="h-24 py-1 px-3 w-full border-2 border-green-700 rounded focus:outline-none focus:border-black-500 resize-none"></textarea>
                      </div>

                      <div class="mb-1">
                        <span class="text-sm">사진</span>
                        <div
                          class="relative border-dotted h-32 rounded-lg border-dashed border-2 border-green-700 bg-gray-100 flex justify-center items-center">
                          <div class="absolute">
                            <div class="flex flex-col items-center">
                              <i class="fa fa-folder-open fa-3x text-green-500"></i>
                              <span class="block text-gray-400 font-normal">식물의 사진을
                                등록하세요</span>
                            </div>
                          </div>
                          <input type="file" class="h-full w-full opacity-0" name="img">
                        </div>
                      </div>
                      <div class="mt-3 text-right">
                        <div class="modal-footer">
                          <!-- 수정 submit 필요! DB 연동 -->
                          <button type="submit" class="btn btn-outline-success">수정</button>
                          <button type="button" class="btn btn-outline-success"
                            onclick="location.href = '/user/myplant' ">취소</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>


      <!-- Option 1: Bootstrap Bundle with Popper -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
      </script>

    </div> <!-- 돈터치-->
  </section>
</div>